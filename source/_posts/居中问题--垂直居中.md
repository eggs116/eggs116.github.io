---
title: 居中问题（二） -- 垂直居中
date: 2018-09-01 15:02:16
urlname: Center_Vertical
categories: 页面布局
tags: 
    - html 
    - css
keyword: 垂直居中
description: 本篇文章将列举垂直居中的各种实现方法
---

## 1 行内元素内容居中
```html
<style>
    html,body {
        margin: 0;
        padding: 0;
    }    
    span{
        padding: 5px 8px;
        float: left;
        background: plum;
    }
</style>

<span>请叫我小仙女</span>
```
>说明：大多数行内元素不能设置宽高，只能由内容撑起，而若要实现上下左右有空隙则需设置padding，但是行内元素的padding只对左、右、下起作用，margin只对左、右起作用，所以对于行内元素若想让上述属性起作用，则需设置浮动或定位，而若要垂直方向居中则设置padding-top=padding-bottom即可

优点：简单、常用，可同时实现水平垂直居中，兼容性好
缺点：需要设置浮动或定位来辅助实现
## 2 块级元素中的行内元素或类行内元素居中
### 2.1 line-height
```html
<style>
    html,body {
        margin: 0;
        padding: 0;
    }
    .wrap{
        width: 200px;
        height: 200px;
        line-height: 200px;
        background: paleturquoise;
    }		
    span {
        background: plum;
    }
</style>

<div class="wrap">
    <span>请叫我小仙女</span>
    <img src="images/eg_cute.gif" alt="">
</div>
```
>说明：外盒子设置line-height=height即可

优点：简单、常用，兼容性好
缺点：若需要居中的内容为多行则不适用
### 2.2 vertical-align
```html
<style>
		html,body {
			margin: 0;
			padding: 0;
		}
		.wrap{
			width: 200px;
			height: 200px;
			display: table-cell;
			vertical-align: middle;
			background: paleturquoise;
		}	
		span {
			background: plum;
		}
	</style>
</head>

<body>
	<div class="wrap">
		<span>请叫我小仙女请叫我小仙女请叫我小仙女</span>
	</div>
```
>说明：在没有其它属性辅助的情况下，只有table-cell属性的元素才可以使用vertical-align属性

优点：可同时适用于单行和多行内容
缺点：实现条件苛刻
### 2.3 flex
```html
<style>
    html,body {
        margin: 0;
        padding: 0;
    }
    .wrap{
        width: 200px;
        height: 200px;
        display: flex;
		align-items: center;
        background: paleturquoise;
    }	
    span {
        background: plum;
    }
</style>

<div class="wrap">
    <span>请叫我小仙女小仙女小仙女小仙女</span>
</div>
```
优点：可同时适用于单行和多行内容
缺点：CSS3新属性，兼容性差
## 3 块级元素
### 3.1 margin
```html
<style>
    html,body {
        margin: 0;
        padding: 0;
    }
    .wrap {
        width: 200px;
        height: 200px;
        border: 1px solid transparent;
        background: paleturquoise;
    }
    .in {
        height: 100px;
        margin-top: 50px;
        background: peachpuff;
    }
</style>

<div class="wrap">
    <div class="in">请叫我小仙女</div>
</div>
```
>说明：.in的margin-top值为(.wrap的高度-.in的高度)/2；值得注意的是我在.wrap上添加了一个`border: 1px solid transparent;`属性，目的是为了解决边距重叠问题，关于边距重叠问题，我后续也会专门写一篇博客来详细介绍，有兴趣的小伙伴可以继续关注哦！

优点：最简单的实现方式，兼容各种浏览器
缺点：可扩展性低，内盒子的高度必须固定，且每当改变内外盒子的高度，margin-top的值都要重新计算
### 3.2 定位position
```html

```
### 3.3 定位position结合transform
#### 3.3.1 absolute--transform
```html

```
#### 3.3.2 relative--transform
```html

```
### 3.4 :before结合inline-block结合vertical-align
```html
<style>
    html,body {
        margin: 0;
        padding: 0;
    }
    .wrap{
        width: 200px;
        height: 200px;
        background: paleturquoise;
    }
    .wrap::before{			
        content:"";
        display:inline-block;
        height:100%;
        vertical-align:middle;
    }
    
    .in {
        display: inline-block;
        background: peachpuff;
    }
</style>

<div class="wrap">
    <div class="in">请叫我小仙女</div>
</div>
```
>说明：

优点：
确定：
### 3.5 flex
```html

```
### 3.6 增加节点
```html

```
## 4 总结




### 2.2 块级元素
#### 2.2.1 固定高度
1. in----margin-top:(out.height-in.height)/2;
2. out----position:relative;|in----position:absolute;top:50%;margin-top:-in.height/2;---------------定位
3. 在in前增加隐藏节点hide且hide.height:(out.height-in.height)/2;hide的宽度为非0任意值---------------增加节点
4. out::before----content:"";display:inline-block;vertical-align:middle;height:100%;|in----display:inline-block;vertical-align:middle;---------------伪元素
5. in----position:relative;top:50%;transform:translateY(-50%);---------------transform

#### 2.2.2 不定高度
1. out----display:table-cell;vertical-align:middle;
2. 1. out----display:flex;align-items:center;
   2. out----display:flex;flex-direction:column;justify-content:center;
   3. out----display:flex;|in----align-self:center;

---------------flex
3. out----position:relative;|in----position:absolute;top:50%;transform:translateY(-50%);---------------transform
----------------------
## 3 水平垂直居中
### 3.1 固定宽高
1. in----margin-left:(out.width-in.width)/2;margin-top:(out.height-in.height)/2;
2. 1. out----position:relative;|in----position:absolute;top:50%;left:50%;margin-top:-in.height/2;margin-left:-in.width/2;
   2. out----position:relative;|in----position:absolute;left:0;top:0;right:0;bottom:0;margin:auto;
---------------定位
3. 1. out----display:flex;justify-content:center;align-items:center;
   2. out----display:flex;justify-content:center;|in----align-self:center;
---------------flex
4. out----display:table-cell;vertical-align:middle;|in----margin:auto;---------------table-cell
5. in----position:relative;left:50%;top:50%;transform:translate(-50%,-50%);---------------transform
6. in----margin:calc(50% - in.height/2) auto;(注：cala()内的计算符号前后必须有空格)

### 3.2 不定宽高
out----position:relative;|in----position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);
> 注：以上transform方法当计算结果含小数位时，会导致整个元素变模糊，解决方案是父级元素设置transform-style:preserve-3d;



